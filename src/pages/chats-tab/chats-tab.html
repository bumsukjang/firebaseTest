<!--
  Generated template for the ChatsTabPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>채팅방</ion-title>
    <ion-buttons end>
      <!-- <button ion-button icon-only (click)="addRoom()">
        <ion-icon name="add-circle"></ion-icon>
      </button> -->
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content padding>
    <ion-refresher (ionRefresh)="doRefresh($event)">
        <ion-refresher-content></ion-refresher-content>
      </ion-refresher>
    
  <ion-list>
    <button ion-item *ngFor="let room of chatRooms" (click)="enterRoom(room)" [disabled]="room.status == 'opened'">
      <ion-avatar item-start>
        <img src="{{room.withUser.picture_url?room.withUser.picture_url:'assets/imgs/person.png'}}">
      </ion-avatar>
      <ion-label>
          <h2>{{room.withUser.name}}</h2>
          <ion-note>{{room.status == 'opened'?"대기중":room.lastMessage.text}}</ion-note>
          
      </ion-label>
      <ion-icon item-end name="ios-arrow-forward"></ion-icon>>
    </button><!-- 
    <button ion-item>
        <ion-avatar item-start>
          <img src="assets/imgs/person.png">
        </ion-avatar>
        <ion-label>
            <h2>Recent</h2>
            <ion-note>Settings you changed recently</ion-note>
            
        </ion-label>        
        <ion-icon item-end name="ios-arrow-forward"></ion-icon>>
      </button> -->
  </ion-list>
</ion-content>